(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{178:function(n,e,t){"use strict";t.r(e);var r=t(27),a=t.n(r),o=t(0),i=t.n(o),c=t(4),u=t(18),l=t.n(u),p=t(180),f=t(5),d=t(14);function b(){var n=Object(c.a)(["\n  margin: 25px;\n"]);return b=function(){return n},n}function m(){var n=Object(c.a)(["\n  text-decoration: none;\n  color: blue;\n  padding: 15px;\n  font-size: 18px;\n  border: 1px solid green;\n"]);return m=function(){return n},n}function s(){var n=Object(c.a)(["\n  text-align: center;\n"]);return s=function(){return n},n}function j(){var n=Object(c.a)(["\n  display: flex;\n  justify-content: space-between;\n  border-bottom: 1px solid black;\n"]);return j=function(){return n},n}function v(){var n=Object(c.a)(["\n  color: black;\n  text-decoration: none;\n  flex: 3;\n"]);return v=function(){return n},n}function y(){var n=Object(c.a)(["\n  flex: 1;\n"]);return y=function(){return n},n}function g(){var n=Object(c.a)(["\n  query {\n    jobs {\n      id\n      company\n      title\n    }\n  }\n"]);return g=function(){return n},n}var O=l()(g()),x=f.a.span(y()),E=Object(f.a)(d.a)(v()),h=f.a.li(j()),k=f.a.div(s()),w=Object(f.a)(d.a)(m()),_=f.a.div(b());var $=function(){var n=Object(p.a)(O),e=n.data,t=n.loading;if(n.error,t)return i.a.createElement("h1",null,"Loading...");if(e){console.log(e);var r=e.jobs.map(function(n){var e=n.id,t=n.company,r=n.title;return i.a.createElement(h,null,i.a.createElement(x,null,t),i.a.createElement(E,{to:"/view/".concat(e)},r))});return i.a.createElement(_,null,i.a.createElement(k,null,i.a.createElement(w,{to:"/new"},"Post A Job")),i.a.createElement("ul",null,r))}},I=t(179),J=t(63),A=t.n(J),S=t(172),C=function(n){return S.toMd(JSON.parse(n))},T=function(n){return JSON.stringify(S.parse(n))};function z(){var n=Object(c.a)(["\n  mutation DeleteJob($jobId: Int!) {\n    delete_jobs(where: { id: { _eq: $jobId } }) {\n      returning {\n        id\n      }\n    }\n  }\n"]);return z=function(){return n},n}function q(){var n=Object(c.a)(["\n  background: lightgray;\n  cursor: pointer;\n"]);return q=function(){return n},n}function N(){var n=Object(c.a)(["\n  margin: 20px;\n"]);return N=function(){return n},n}function D(){var n=Object(c.a)(["\n  color: gray;\n"]);return D=function(){return n},n}function L(){var n=Object(c.a)(["\n  text-align: center;\n  width: 100%;\n  justify-content: space-between;\n  display: flex;\n"]);return L=function(){return n},n}function B(){var n=Object(c.a)(["\n  padding: 10px;\n  background: red;\n  color: white;\n  text-decoration: none;\n"]);return B=function(){return n},n}function P(){var n=Object(c.a)(["\n  query GetJob($jobId: Int!) {\n    jobs_by_pk(id: $jobId) {\n      id\n      company\n      description\n      link_to_apply\n    }\n  }\n"]);return P=function(){return n},n}var G=l()(P()),M=f.a.a(B()),W=f.a.div(L()),Y=Object(f.a)(d.a)(D()),F=f.a.div(N()),H=Object(f.a)(M)(q()),K=l()(z());var Q=function(n){var e=Object(p.a)(G,{variables:{jobId:n.id}}),t=e.data,r=(e.error,e.loading),a=Object(I.a)(K);if(r)return i.a.createElement("h1",null,"Loading...");if(t){var o=t.jobs_by_pk,c=o.description,u=(o.id,o.company),l=o.link_to_apply,f=C(c);return i.a.createElement(F,null,i.a.createElement(Y,{to:"/"}," Back to search "),i.a.createElement("h1",null,"Work for ",u),i.a.createElement(A.a,{source:f}),i.a.createElement(W,null,i.a.createElement(H,{onClick:function(e){a({variables:{jobId:parseInt(n.id)}}).then(function(){return Object(d.c)("/")})}},"\ud83d\udca5"),i.a.createElement(M,{href:l},"Apply Now")))}},R=t(33),U=t(64),V=t(67);function X(){var n=Object(c.a)(["\n  mutation InsertJob(\n    $company: String!\n    $linkToApply: String!\n    $title: String!\n    $description: String!\n  ) {\n    insert_jobs(\n      objects: {\n        company: $company\n        link_to_apply: $linkToApply\n        title: $title\n        description: $description\n      }\n    ) {\n      returning {\n        id\n        company\n      }\n    }\n  }\n"]);return X=function(){return n},n}function Z(){var n=Object(c.a)(["\n  position: fixed;\n  top: 0;\n  left: 10px;\n  font-size: 18px;\n  margin-top: 15px;\n  color: gray;\n"]);return Z=function(){return n},n}function nn(){var n=Object(c.a)(["\n  font-size: 18px;\n"]);return nn=function(){return n},n}function en(){var n=Object(c.a)(["\n  font-size: 32px;\n  padding: 5px;\n  margin-top: 15px;\n  width: 50%;\n  align-self: flex-end;\n"]);return en=function(){return n},n}function tn(){var n=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 50%;\n"]);return tn=function(){return n},n}function rn(){var n=Object(c.a)(["\n  font-size: 24px;\n  margin-top: 10px;\n"]);return rn=function(){return n},n}function an(){var n=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return an=function(){return n},n}var on=f.a.form(an()),cn=f.a.input(rn()),un=f.a.div(tn()),ln=f.a.input(en()),pn=f.a.textarea(nn()),fn=Object(f.a)(d.a)(Z()),dn=l()(X());var bn=function(n){n.id;var e=Object(o.useState)({company:"",title:"",description:"",linkToApply:""}),t=Object(V.a)(e,2),r=t[0],a=t[1],c=function(n){return a(Object(U.a)({},r,Object(R.a)({},n.target.name,n.target.value)))},u=r.company,l=r.title,p=r.description,f=r.linkToApply,b=Object(I.a)(dn);return i.a.createElement(on,{onSubmit:function(n){n.preventDefault(),r.company,r.title;var e=r.description,t=(r.linkToApply,T(e));b({description:t}).then(function(){return Object(d.c)("/")})}},i.a.createElement(un,null,i.a.createElement(cn,{type:"text",placeholder:"Your Company Name",onChange:c,value:u,name:"company"}),i.a.createElement(cn,{type:"text",placeholder:"Job Title",onChange:c,value:l,name:"title"}),i.a.createElement(cn,{type:"text",placeholder:"Link to apply",onChange:c,value:f,name:"linkToApply"}),i.a.createElement(pn,{name:"description",id:"description",placeholder:"Job Description",cols:"30",rows:"10",value:p,onChange:c}),i.a.createElement(ln,{type:"submit",value:"Post"})),i.a.createElement(fn,{to:"/"},"Cancel"))},mn=t(65),sn=t(31),jn=new(t(66).a)({uri:"https://job-board-application.herokuapp.com/v1alpha1/graphql"}),vn=function(){return i.a.createElement(d.b,null,i.a.createElement($,{path:"/"}),i.a.createElement(Q,{path:"/view/:id"}),i.a.createElement(bn,{path:"/new"}))},yn=document.getElementById("root");a.a.render(i.a.createElement(function(){return i.a.createElement(mn.a,{client:jn},i.a.createElement(sn.a,{client:jn},i.a.createElement(vn,null)))},null),yn)},70:function(n,e,t){n.exports=t(178)}},[[70,1,2]]]);
//# sourceMappingURL=main.bd6624e9.chunk.js.map